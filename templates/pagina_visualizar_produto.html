<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- link css -->
    <link rel="stylesheet" href="/static/styles/pagina_visualizar_produto.css">
    <!-- link css variaveis -->
    <link rel="stylesheet" href="/static/styles/variaveis_globais.css">
    <!-- link css global para reset -->
    <link rel="stylesheet" href="/static/styles/global.css">
    <!-- link css header e footer -->
    <link rel="stylesheet" href="/static/styles/header_footer.css">

    <!-- ícones Google Icons -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <!-- Link importação do Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        xintegrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous" />


    <!-- nome com base no nome do produto -->
    <title>Visualizar produtos</title>
</head>

<body class="container--body">

    <!-- header bootstrap -->
    <header class="container--header">
        <a href="{{ url_for('principal') }}">
            <img src="/static/img/logo_InStock-transparente.png" class="img--InStock-logo" alt="InStock Logo"
                style="width: 300px;">
        </a>
    </header>

    <!-- container geral / principal -->
    <main class="container--main">

        <section class="container--card-fundo"
            style="background-image: url(/static/img/close-up-abstrato-de-metal.jpg)">

            <!-- detalhe da prateleira -->
            <div class="container--div-detalhe esquerda"
                style="background-image: url(/static/img/fundo-estante-bronze.jpg);"></div>

            <!-- card -->
            <div class="card mb-4"
                style="width: 550px; min-height:550px; background-image: url(/static/img/fundo-estante-bronze.jpg);">

                <div class="row g-0">

                    <section class="container--div-top">

                        <div class="col-md-0">

                            <!-- imagem -->
                            {% if produto.imagem %}
                                <img src="{{ produto.imagem }}" class="img-fluid rounded-start" alt="{{ produto.nome_produto }}">
                            {% else %}
                                <img src="https://portal.crea-sc.org.br/wp-content/uploads/2017/11/imagem-indisponivel-para-produtos-sem-imagem_15_5.jpg" class="img-fluid rounded-start" alt="Imagem indisponível">
                            {% endif %}
                        </div>   
                        

                        <div class="col-md-0">
                            
                            <div class="card-body">

                                <!-- nome do produto -->
                                <p class="card-text">Nome: {{ produto.nome_produto }};</p>

                                <!-- SKU -->
                                <p class="card-text">SKU: {{ produto.sku }};</p>

                                <!-- quantidade de produtos existentes -->
                                <p class="card-text">Qntd: {{ produto.quantidade }};</p>

                                <!-- preço do produto -->
                                <p class="card-text">R$ {{ produto.valor }};</p>

                                <!-- ENDEREÇAMENTO -->

                                <!-- campo de nome da estante -->
                                <p class="card-text">Estante: {{ produto.nome_estante }};</p>
                                
                                <!-- campo de selecionar coluna da estante  -->
                                <p class="card-text">Coluna: {{ produto.coluna }};</p>

                                <!-- campo de selecionar linha da estante -->
                                <p class="card-text">Linha: {{ produto.linha }};</p>

                                <!-- CATEGORIAS -->

                                <p class="card-text">Categoria: {{ produto.nome_categoria }};</p>

                                <!-- campo de tipos de categoria -->
                                <p class="card-text">Tipo: {{ produto.nome_tipo }};</p>

                                <!-- CARACTERÍSTICAS (NOVO CÓDIGO AQUI) -->
                                <p class="card-text">
                                    Características: 
                                    {% if produto.caracteristicas %}
                                        <!-- Itera sobre a lista de características -->
                                        {% for carac in produto.caracteristicas %}
                                            {{ carac.nome_caracteristica }}{% if not loop.last %};{% else %}.{% endif %}
                                        {% endfor %}
                                    {% else %}
                                        Nenhuma.
                                    {% endif %}
                                </p>
                                <!-- FIM DO NOVO CÓDIGO DE CARACTERÍSTICAS -->

                            </div>
                            
                        </div>

                    </section>

                    <!-- descrição -->
                    <div class="container--div-descricao">

                        <p class="card-text">{{ produto.descricao }}</p>

                    </div>

                    <div class="container--bottom-card">

                        <button class="btn btn-primary" type="submit">Incluir no pedido de compra</button>

                        <!-- campo de quantidade -->
                        <div class="mb-0">
                            <!-- quantidade: backend do cadastro -->
                            <input name="cadastro-quantidade" type="number" class="form-control"
                                id="exampleInputQuantidade" min="0" value="0">
                        </div>

                        <a href=""><span class="material-symbols-outlined">edit</span> </a>

                        <a href="/post/produto/remover/{{produto.cod_produto}}"><span class="material-symbols-outlined">delete</span></a>

                        <a href=""><span class="material-symbols-outlined">delete</span></a> 

                        <a href="/post/produto/remover/{{produto.cod_produto}}"><span class="material-symbols-outlined">delete</span></a>


                    </div>

                </div>
            </div>

            <!-- detalhe da prateleira -->
            <div class="container--div-detalhe direita"
                style=" background-image: url(/static/img/fundo-estante-bronze.jpg);">
            </div>

        </section>

    </main>

    <!-- import da biblioteca do sweet alert -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</body>

</html>
